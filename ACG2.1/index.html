<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACG // NEURAL ENGINE FIXED</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-lime: #CCFF00;
            --deep-dark: #050505;
        }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--deep-dark);
            color: #E2E2E2;
            overflow-x: hidden;
            margin: 0;
        }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glass-panel {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .cyber-button {
            background: var(--neon-lime);
            color: black;
            font-weight: 800;
            letter-spacing: 0.1em;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        .cyber-button:hover:not(:disabled) {
            box-shadow: 0 0 25px rgba(204, 255, 0, 0.4);
            transform: translateY(-2px);
        }
        .cyber-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .loading-ring {
            border: 2px solid transparent;
            border-top: 2px solid var(--neon-lime);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: var(--neon-lime); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // API Key dari Google AI Studio
        const apiKey = "AIzaSyD-_JKSDGOsTsgsyfaAhWBzD9BbqtRaZTc"; 

        const Icon = ({ name, className = "w-5 h-5" }) => {
            const icons = {
                brain: <path d="M9.5 2A5 5 0 0 1 12 8v4M12 2a5 5 0 0 0-2.5 6M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2Z" />,
                search: <><circle cx="11" cy="11" r="8" /><path d="m21 21-4.3-4.3" /></>,
                zap: <path d="M13 2 3 14h9l-1 8 10-12h-9l1-8Z" />,
                code: <path d="m18 16 4-4-4-4M6 8l-4 4 4 4M14.5 4l-5 16" />,
                eye: <><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z" /><circle cx="12" cy="12" r="3" /></>,
                download: <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3" />,
                info: <><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></>
            };
            return (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || null}
                </svg>
            );
        };

        function App() {
            const [step, setStep] = useState(1);
            const [loading, setLoading] = useState(false);
            const [progress, setProgress] = useState('');
            const [error, setError] = useState(null);
            const [showModels, setShowModels] = useState(false);
            const [results, setResults] = useState({
                research: null,
                titles: [],
                selectedTitle: '',
                script: '',
                thumbnail: null
            });
            const [input, setInput] = useState({ topic: '', niche: 'Technology' });

            const aiModels = [
                { name: "Gemini 2.5 Flash", role: "Brain Core", task: "Riset, Pembuatan Judul, & Penulisan Naskah", status: "Active" },
                { name: "Google Search Tool", role: "Data Sync", task: "Riset Tren Real-time 2024-2025", status: "Active" },
                { name: "Imagen 4.0", role: "Visual Engine", task: "Pembuatan Thumbnail Generative", status: "Ready" }
            ];

            const callAI = async (prompt, system, useSearch = false, isJson = false) => {
                const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{ parts: [{ text: prompt }] }],
                    systemInstruction: { parts: [{ text: system }] },
                    tools: useSearch ? [{ google_search: {} }] : [],
                    ...(isJson && { generationConfig: { responseMimeType: "application/json" } })
                };

                let retries = 0;
                const maxRetries = 5;
                
                while (retries < maxRetries) {
                    try {
                        const response = await fetch(url, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        
                        if (!response.ok) throw new Error(`HTTP Error: ${response.status}`);
                        
                        const data = await response.json();
                        const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
                        
                        if (!text) throw new Error("AI tidak mengembalikan respon.");
                        
                        return isJson ? JSON.parse(text) : text;
                    } catch (err) {
                        retries++;
                        if (retries === maxRetries) throw err;
                        await new Promise(res => setTimeout(res, Math.pow(2, retries) * 1000));
                    }
                }
            };

            const startNeuralProcess = async () => {
                if (!input.topic) return;
                setLoading(true);
                setError(null);
                
                try {
                    setProgress('MENGHUBUNGKAN KE NEURAL DATA...');
                    const research = await callAI(
                        `Lakukan riset mendalam tentang: ${input.topic} dalam konteks ${input.niche}. Cari tren terbaru 2024-2025.`,
                        "Bertindaklah sebagai AI Analyst Professional. Berikan poin-poin riset yang relevan, padat, dan informatif.",
                        true
                    );
                    setResults(prev => ({ ...prev, research }));

                    setProgress('MENYUSUN ARSITEKTUR VIRAL...');
                    const titles = await callAI(
                        `Berdasarkan riset ini: ${research}, buat 5 judul konten yang memiliki CTR tinggi.`,
                        "Bertindaklah sebagai Headline Expert. Output harus berupa JSON array of strings saja. Contoh: [\"Judul 1\", \"Judul 2\"]",
                        false,
                        true
                    );
                    
                    setResults(prev => ({ ...prev, titles }));
                    setStep(2);
                } catch (e) {
                    console.error(e);
                    setError("Gagal memproses data saraf. Silakan coba lagi.");
                } finally {
                    setLoading(false);
                }
            };

            const generateFullScript = async (title) => {
                setResults(prev => ({ ...prev, selectedTitle: title }));
                setLoading(true);
                setError(null);
                
                try {
                    setProgress('MENGHASILKAN NASKAH MULTIDIMENSI...');
                    const script = await callAI(
                        `Judul: ${title}. Niche: ${input.niche}. Buat naskah video lengkap dengan Hook, Isi, dan CTA.`,
                        "Bertindaklah sebagai Scriptwriter Professional. Berikan naskah yang sangat menarik dan mudah dibaca.",
                        false
                    );
                    setResults(prev => ({ ...prev, script }));
                    
                    setProgress('MERENDER VISUAL GENERATIVE...');
                    const imgUrl = `https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`;
                    const imgResponse = await fetch(imgUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            instances: [{ prompt: `Cyberpunk futuristic high-tech thumbnail for "${title}", cinematic lighting, neon lime accents, 8k, professional photography style` }],
                            parameters: { sampleCount: 1, aspectRatio: "16:9" }
                        })
                    });
                    
                    if (imgResponse.ok) {
                        const imgData = await imgResponse.json();
                        if (imgData.predictions?.[0]?.bytesBase64Encoded) {
                            setResults(prev => ({ ...prev, thumbnail: `data:image/png;base64,${imgData.predictions[0].bytesBase64Encoded}` }));
                        }
                    }
                    
                    setStep(3);
                } catch (e) {
                    console.error(e);
                    setError("Gagal merender naskah atau visual.");
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="min-h-screen flex flex-col items-center p-6 md:p-12 relative">
                    <div className="fixed inset-0 pointer-events-none opacity-20 z-0">
                        <div className="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-[#CCFF00] rounded-full blur-[120px]"></div>
                        <div className="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"></div>
                    </div>

                    <header className="w-full max-w-6xl flex justify-between items-center mb-16 relative z-10">
                        <div className="flex items-center gap-4">
                            <div className="w-12 h-12 bg-[#CCFF00] flex items-center justify-center rounded-lg shadow-[0_0_20px_rgba(204,255,0,0.5)]">
                                <Icon name="brain" className="text-black w-8 h-8" />
                            </div>
                            <div>
                                <h1 className="text-2xl font-extrabold tracking-tighter leading-none italic">ACG <span className="text-[#CCFF00]">NEURAL</span></h1>
                                <p className="text-[10px] mono uppercase tracking-[0.4em] text-neutral-500">Neural Engine Fixed v6.1</p>
                            </div>
                        </div>
                        <div className="flex gap-2">
                            <button 
                                onClick={() => setShowModels(!showModels)}
                                className="glass-panel px-4 py-2 rounded-full border-neutral-800 flex items-center gap-2 hover:border-[#CCFF00] transition-all"
                            >
                                <Icon name="info" className="w-4 h-4 text-[#CCFF00]" />
                                <span className="text-[10px] mono text-[#CCFF00]">AI STACK</span>
                            </button>
                        </div>
                    </header>

                    {showModels && (
                        <div className="w-full max-w-4xl mb-12 animate-in fade-in slide-in-from-top-4 duration-500 relative z-20">
                            <div className="glass-panel p-6 rounded-[2rem] border-[#CCFF00]/20 bg-black/40">
                                <h3 className="text-sm font-black italic uppercase mb-4 tracking-widest text-[#CCFF00]">Teknologi AI yang Digunakan:</h3>
                                <div className="grid md:grid-cols-3 gap-4">
                                    {aiModels.map((m, i) => (
                                        <div key={i} className="p-4 bg-white/5 rounded-xl border border-white/5 space-y-2">
                                            <div className="flex justify-between items-center">
                                                <span className="text-xs font-bold text-white uppercase">{m.name}</span>
                                                <span className="text-[8px] mono px-2 py-0.5 bg-[#CCFF00]/10 text-[#CCFF00] rounded-full border border-[#CCFF00]/20">{m.status}</span>
                                            </div>
                                            <p className="text-[10px] mono text-neutral-500 uppercase">{m.role}</p>
                                            <p className="text-[10px] text-neutral-400 leading-tight">{m.task}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    <main className="w-full max-w-4xl relative z-10">
                        {error && (
                            <div className="mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-xl text-red-400 text-xs mono flex items-center gap-3">
                                <div className="w-2 h-2 bg-red-500 rounded-full animate-ping"></div>
                                {error}
                            </div>
                        )}

                        {step === 1 && (
                            <section className="space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-700">
                                <div className="text-center space-y-4">
                                    <h2 className="text-5xl md:text-7xl font-black italic tracking-tighter uppercase leading-none">
                                        FUTURISTIK <br/> <span className="text-[#CCFF00]">CONTENT ENGINE</span>
                                    </h2>
                                    <p className="text-neutral-400 max-w-xl mx-auto">Generate ide, riset, naskah, dan visual dalam satu aliran saraf AI.</p>
                                </div>

                                <div className="glass-panel p-8 md:p-12 rounded-[2rem] space-y-8">
                                    <div className="grid md:grid-cols-2 gap-6">
                                        <div className="space-y-2">
                                            <label className="text-[10px] mono text-neutral-500 uppercase tracking-widest font-bold ml-1">Kategori Konten</label>
                                            <select 
                                                className="w-full bg-black/50 border border-neutral-800 p-4 rounded-xl outline-none focus:border-[#CCFF00] transition-all text-white"
                                                value={input.niche}
                                                onChange={(e) => setInput({...input, niche: e.target.value})}
                                            >
                                                <option value="Technology">Technology</option>
                                                <option value="Education">Education</option>
                                                <option value="Finance">Finance</option>
                                                <option value="Lifestyle">Lifestyle</option>
                                                <option value="Gaming">Gaming</option>
                                            </select>
                                        </div>
                                        <div className="space-y-2">
                                            <label className="text-[10px] mono text-neutral-500 uppercase tracking-widest font-bold ml-1">Kualitas Output</label>
                                            <div className="flex gap-2">
                                                {['Fast', 'Neural', 'Hyper'].map(t => (
                                                    <button key={t} className={`flex-1 py-2 text-[10px] mono border rounded-lg transition-all ${t === 'Neural' ? 'border-[#CCFF00] text-[#CCFF00]' : 'border-neutral-800 text-neutral-500'}`}>{t}</button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                    <div className="space-y-2">
                                        <label className="text-[10px] mono text-neutral-500 uppercase tracking-widest font-bold ml-1">Topik Utama</label>
                                        <input 
                                            type="text" 
                                            placeholder="Masukkan ide atau topik mentah Anda..." 
                                            className="w-full bg-black/50 border border-neutral-800 p-6 rounded-2xl outline-none focus:border-[#CCFF00] text-xl font-bold transition-all text-white"
                                            value={input.topic}
                                            onChange={(e) => setInput({...input, topic: e.target.value})}
                                        />
                                    </div>
                                    <button 
                                        disabled={!input.topic}
                                        onClick={startNeuralProcess} 
                                        className="w-full cyber-button py-6 rounded-2xl flex items-center justify-center gap-3 group"
                                    >
                                        <span>AKTIFKAN NEURAL CORE</span>
                                        <Icon name="zap" className="w-6 h-6 group-hover:scale-125 transition-transform" />
                                    </button>
                                </div>
                            </section>
                        )}

                        {step === 2 && (
                            <section className="space-y-8 animate-in fade-in slide-in-from-right-4 duration-500">
                                <div className="flex items-center gap-4 mb-8">
                                    <button onClick={() => setStep(1)} className="p-3 bg-neutral-900 rounded-full hover:bg-neutral-800 transition-colors">
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M15 19l-7-7 7-7" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
                                    </button>
                                    <h2 className="text-3xl font-black italic uppercase">Ide Arsitektur <span className="text-[#CCFF00]">AI</span></h2>
                                </div>

                                <div className="grid gap-4">
                                    {results.titles.map((title, i) => (
                                        <div 
                                            key={i} 
                                            onClick={() => generateFullScript(title)}
                                            className="glass-panel p-6 rounded-2xl cursor-pointer group hover:bg-[#CCFF00]/5 hover:border-[#CCFF00] transition-all flex items-center justify-between"
                                        >
                                            <div className="flex gap-4 items-center">
                                                <span className="mono text-[#CCFF00] text-sm">0{i+1}</span>
                                                <h3 className="text-lg font-bold group-hover:translate-x-2 transition-transform">{title}</h3>
                                            </div>
                                            <Icon name="zap" className="text-[#CCFF00] opacity-0 group-hover:opacity-100 transition-all" />
                                        </div>
                                    ))}
                                </div>

                                <div className="glass-panel p-6 rounded-2xl space-y-4">
                                    <div className="flex items-center gap-2 text-[#CCFF00]">
                                        <Icon name="search" className="w-4 h-4" />
                                        <span className="text-[10px] mono uppercase font-bold tracking-widest">Wawasan Riset Neural</span>
                                    </div>
                                    <div className="text-sm text-neutral-400 leading-relaxed italic whitespace-pre-wrap">{results.research}</div>
                                </div>
                            </section>
                        )}

                        {step === 3 && (
                            <section className="space-y-10 animate-in fade-in zoom-in-95 duration-500">
                                <div className="text-center space-y-2">
                                    <h2 className="text-4xl font-black italic uppercase tracking-tighter leading-tight">{results.selectedTitle}</h2>
                                    <p className="text-[10px] mono text-neutral-500 uppercase tracking-widest">Produksi Selesai // Sinkronisasi Berhasil</p>
                                </div>

                                <div className="grid lg:grid-cols-2 gap-10">
                                    <div className="space-y-6">
                                        <div className="glass-panel rounded-3xl overflow-hidden aspect-video relative group border-neutral-800">
                                            {results.thumbnail ? (
                                                <img src={results.thumbnail} className="w-full h-full object-cover" alt="AI Visual" />
                                            ) : (
                                                <div className="flex flex-col items-center justify-center h-full gap-4">
                                                    <div className="loading-ring"></div>
                                                    <span className="text-[10px] mono text-neutral-500">Generating Visual...</span>
                                                </div>
                                            )}
                                            <div className="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60"></div>
                                            <div className="absolute bottom-6 left-6 flex items-center gap-2">
                                                <div className="w-2 h-2 bg-red-500 rounded-full animate-pulse"></div>
                                                <span className="text-[10px] mono font-bold uppercase tracking-widest">Neural Render v4.0</span>
                                            </div>
                                        </div>
                                        
                                        <div className="flex gap-3">
                                            <button className="flex-1 py-4 bg-neutral-900/50 border border-neutral-800 rounded-xl flex items-center justify-center gap-2 hover:bg-neutral-800 transition-colors">
                                                <Icon name="download" className="w-4 h-4" />
                                                <span className="text-[10px] font-bold uppercase tracking-widest">Simpan Visual</span>
                                            </button>
                                            <button className="flex-1 py-4 bg-neutral-900/50 border border-neutral-800 rounded-xl flex items-center justify-center gap-2 hover:bg-neutral-800 transition-colors">
                                                <Icon name="code" className="w-4 h-4" />
                                                <span className="text-[10px] font-bold uppercase tracking-widest">Copy Naskah</span>
                                            </button>
                                        </div>
                                    </div>

                                    <div className="glass-panel rounded-3xl p-8 relative h-[500px] border-neutral-800">
                                        <div className="flex items-center justify-between mb-6">
                                            <div className="flex items-center gap-2">
                                                <Icon name="zap" className="text-[#CCFF00] w-4 h-4" />
                                                <span className="text-[10px] font-bold uppercase tracking-widest">Naskah Selesai</span>
                                            </div>
                                        </div>
                                        <div className="overflow-y-auto h-[400px] pr-4 custom-scrollbar">
                                            <div className="mono text-xs leading-relaxed text-neutral-300 whitespace-pre-wrap">
                                                {results.script}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div className="flex justify-center pt-8">
                                    <button 
                                        onClick={() => setStep(1)} 
                                        className="px-12 py-4 border border-neutral-800 rounded-full hover:border-[#CCFF00] hover:text-[#CCFF00] transition-all uppercase text-[10px] font-black tracking-[0.2em]"
                                    >
                                        PROYEK BARU
                                    </button>
                                </div>
                            </section>
                        )}
                    </main>

                    {loading && (
                        <div className="fixed inset-0 z-50 bg-black/90 flex flex-col items-center justify-center gap-8 backdrop-blur-2xl">
                            <div className="relative">
                                <div className="loading-ring scale-[2]"></div>
                                <div className="absolute inset-0 flex items-center justify-center">
                                    <Icon name="zap" className="w-6 h-6 text-[#CCFF00] animate-pulse" />
                                </div>
                            </div>
                            <div className="text-center space-y-4">
                                <h3 className="text-2xl font-black italic tracking-widest uppercase text-[#CCFF00]">{progress}</h3>
                                <div className="flex gap-2 justify-center">
                                    {[0, 1, 2, 3].map(i => (
                                        <div key={i} className="w-8 h-1 bg-[#CCFF00] rounded-full animate-pulse" style={{animationDelay: `${i*0.15}s`}}></div>
                                    ))}
                                </div>
                                <p className="text-[10px] mono text-neutral-500 uppercase tracking-[0.5em] mt-4">Deep Neural Syncing...</p>
                            </div>
                        </div>
                    )}

                    <footer className="w-full max-w-6xl mt-auto pt-12 border-t border-neutral-900 flex flex-col md:flex-row justify-between items-center gap-4 text-neutral-600 relative z-10 pb-8">
                        <div className="flex items-center gap-8 mono text-[10px] uppercase tracking-widest">
                            <span>Status: Optimized</span>
                            <span>Region: Global</span>
                        </div>
                        <div className="mono text-[10px] uppercase tracking-widest">
                            Â© 2026 ACG NEURAL ENGINE // FIXED_CORE
                        </div>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
